(this.webpackJsonptetris=this.webpackJsonptetris||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),c=n.n(o),l=(n(10),n(1)),u=[{shape:[0],color:[0,0]},{shape:[[0,1,0,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],color:[180,100]},{shape:[[0,2,0],[0,2,0],[2,2,0]],color:[220,100]},{shape:[[0,3,0],[0,3,0],[0,3,3]],color:[39,100]},{shape:[[4,4],[4,4]],color:[55,100]},{shape:[[0,5,5],[5,5,0],[0,0,0]],color:[120,100]},{shape:[[0,0,0],[6,6,6],[0,6,0]],color:[300,100]},{shape:[[7,7,0],[0,7,7],[0,0,0]],color:[0,100]}],s=function(){return u[Math.floor(Math.random()*(u.length-1))+1].shape},i=a.a.memo((function(e){var t=e.value,n=u[t].color,r={border:0===t?"0px solid":"5px solid",backgroundColor:"hsl("+n[0]+", "+n[1]+"%, "+(0!==t?"55":"0")+"%)",borderTopColor:"hsl("+n[0]+", "+n[1]+"%, 30%)",borderRightColor:"hsl("+n[0]+", "+n[1]+"%, 35%)",borderBottomColor:"hsl("+n[0]+", "+n[1]+"%, 67%)",borderLeftColor:"hsl("+n[0]+", "+n[1]+"%, 45%)"};return a.a.createElement("div",{className:"cell",style:r})})),f=function(e){var t=e.board;return a.a.createElement("div",{className:"board"},t.map((function(e,t){return e.map((function(e,n){return a.a.createElement(i,{key:t+"_"+n,value:e[0]})}))})))},h=a.a.memo((function(e){var t=e.tetromino,n=JSON.parse(JSON.stringify(t));switch(t[0].length){case 2:t.forEach((function(e,t){n[t].unshift(0),n[t].push(0,0)})),n.unshift(Array(5).fill(0)),n.push(Array(5).fill(0)),n.push(Array(5).fill(0));break;case 3:t.forEach((function(e,t){n[t].unshift(0),n[t].push(0)})),n.unshift(Array(5).fill(0)),n.push(Array(5).fill(0));break;case 4:t.forEach((function(e,t){n[t].unshift(0)})),n.push(Array(5).fill(0))}return a.a.createElement("div",{id:"nextTetromino"},n.map((function(e,t){return e.map((function(e,n){return a.a.createElement(i,{key:t+"_"+n,value:e})}))})))})),m=a.a.memo((function(e){var t=e.level,n=e.score,r=e.rows;return a.a.createElement("div",{className:"stats"},a.a.createElement("div",{className:"statsElement"},"Score: ",a.a.createElement("span",null,n)),a.a.createElement("div",{className:"statsElement"},"Level: ",a.a.createElement("span",null,t)),a.a.createElement("div",{className:"statsElement"},"Rows: ",a.a.createElement("span",null,r)))})),p=function(){return a.a.createElement("div",{id:"footer"},a.a.createElement("p",null,"Designed and coded by"),a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://atiyahaider.github.io/Portfolio/"},"Atiya Haider"))},b=function(e,t,n){var a=function(){return Array(20).fill().map((function(){return Array(12).fill([0,""])}))},o=Object(r.useState)(a),c=Object(l.a)(o,2),u=c[0],s=c[1],i=Object(r.useState)(0),f=Object(l.a)(i,2),h=f[0],m=f[1],p=Object(r.useState)(0),b=Object(l.a)(p,2),d=b[0],v=b[1],O=Object(r.useState)(!1),E=Object(l.a)(O,2),j=E[0],y=E[1];Object(r.useEffect)((function(){s((function(r){return function(r){for(var a=r.map((function(e){return e.map((function(e){return""===e[1]?[0,""]:e}))})),o=0;o<e.shape.length;o++)for(var c=0;c<e.shape[o].length;c++)0!==e.shape[o][c]&&(a[o+e.rowPos][c+e.colPos]=[e.shape[o][c],e.collided?"taken":""]);return e.collided&&(a=P(a),n.length<=e.rowPos-h&&t()),a}(r)}))}),[e,t,n,h]);var P=function(e){var t=0,n=e.reduce((function(e,n){return n.every((function(e){return 0!==e[0]}))?(t++,e.unshift(Array(12).fill([0,""])),e):(e.push(n),e)}),[]);return m(t),y(t>=4),t>0&&v((function(e){return e+1})),n};return[u,function(){s(a()),m(0),v(0),y(!1)},function(e,t,n){for(var r=0;r<e.shape.length;r++)for(var a=0;a<e.shape[r].length;a++)if(0!==e.shape[r][a]&&(r+e.rowPos+t>19||a+e.colPos+n<0||a+e.colPos+n>11||"taken"===u[r+e.rowPos+t][a+e.colPos+n][1]))return!1;return!0},h,j,d]},d=n(2),v=function(){var e=Object(r.useState)({shape:[],rowPos:0,colPos:0,collided:!1}),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(s()),c=Object(l.a)(o,2),u=c[0],i=c[1],f=Object(r.useCallback)((function(){a({shape:u,rowPos:0,colPos:4,collided:!1}),i(s())}),[u]);return[n,u,function(e,t,n){a((function(r){return Object(d.a)(Object(d.a)({},r),{},{rowPos:r.rowPos+e,colPos:r.colPos+t,collided:n})}))},function(e){a((function(t){return Object(d.a)(Object(d.a)({},t),{},{shape:e})}))},f,function(){var e=s();a({shape:e,rowPos:0,colPos:4,collided:!1}),i(s())}]},O=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){clearInterval(e)}}}),[t])},E=function(e,t){var n=Object(r.useState)(0),a=Object(l.a)(n,2),o=a[0],c=a[1],u=Object(r.useState)(0),s=Object(l.a)(u,2),i=s[0],f=s[1],h=Object(r.useState)(0),m=Object(l.a)(h,2),p=m[0],b=m[1];Object(r.useEffect)((function(){0!==e&&function(e){var t=[40,100,300,1200];f((function(n){return n+t[e-1]*(o+1)})),p+e>=10*(o+1)&&c((function(e){return e+1})),b((function(t){return t+e}))}(e)}),[t,e]);return[o,i,p,function(){c(0),f(0),b(0)}]},j=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(null),u=Object(l.a)(c,2),s=u[0],i=u[1],d=Object(r.useState)(!1),j=Object(l.a)(d,2),y=j[0],P=j[1],g=v(),k=Object(l.a)(g,6),S=k[0],w=k[1],N=k[2],A=k[3],C=k[4],J=k[5],x=b(S,C,w),I=Object(l.a)(x,6),T=I[0],D=I[1],R=I[2],_=I[3],B=I[4],H=I[5],K=E(_,H),L=Object(l.a)(K,4),M=L[0],G=L[1],U=L[2],X=L[3];O((function(){W()}),s);var q=function(){n?(o(!1),i(null)):(y&&F(),0===S.shape.length&&C(),o(!0),i(z()))},z=function(){return 1e3-200*M},F=function(){P(!1),D(),J(),X()},Q=function(e,t){return e>t-_},V=function(e){R(S,0,e)&&N(0,e,!1)},W=function(){R(S,1,0)?N(1,0,!1):(N(0,0,!0),Q(w.length,S.rowPos)&&(P(!0),o(!1),i(null)))};return a.a.createElement("div",{className:"container",tabIndex:"0",onKeyDown:function(e){if(n)switch(e.keyCode){case 37:V(-1);break;case 39:V(1);break;case 40:i(null),W();break;case 32:e.preventDefault(),i(null),function(){for(var e=1,t=S.posX;R(S,e,0);)e++;N(e-1,0,!0),Q(w.length,t+e-1)&&(P(!0),o(!1),i(null))}();break;case 38:!function(){var e=JSON.parse(JSON.stringify(S));e.shape=e.shape[0].map((function(t,n){return e.shape.map((function(e){return e[n]})).reverse()})),R(e,0,0)&&A(e.shape)}();break;default:return null}},onKeyUp:function(e){n&&(40!==e.keyCode&&32!==e.keyCode||i(z()))}},a.a.createElement("h1",{id:"heading"},"Tetris"),a.a.createElement("div",{className:"tetris"},a.a.createElement(f,{board:T}),a.a.createElement("div",{id:"information"},a.a.createElement(h,{tetromino:w}),a.a.createElement(m,{startPause:q,level:M,score:G,rows:U}),a.a.createElement("div",{className:"stats gameStatus"},y?"Game Over!":n?B?"Tetris!!":"Happy playing!":"Press Start to continue"),a.a.createElement("button",{onClick:q},"Start/Pause"))),a.a.createElement(p,null))},y=function(){return a.a.createElement("div",null,a.a.createElement(j,null))};c.a.render(a.a.createElement(y,null),document.getElementById("root"))},5:function(e,t,n){e.exports=n(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.ac220c57.chunk.js.map